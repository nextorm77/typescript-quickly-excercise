{"version":3,"file":"blocks-panel.js","sourceRoot":"","sources":["../../../src/client/ui/blocks-panel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,qDAAqD,CAAC;AAC7E,OAAO,EAAE,IAAI,EAAkB,MAAM,4CAA4C,CAAC;AAElF,OAAO,EAAY,kBAAkB,EAAc,MAAM,aAAa,CAAC;AAEvE,MAAM,OAAO,WAAW;IACtB,YAAqB,gBAA0B;QAA1B,qBAAgB,GAAhB,gBAAgB,CAAU;QAY9B,oBAAe,GAAG,CAAC,KAAY,EAAE,KAAa,EAAkB,EAAE;YACjF,MAAM,qBAAqB,GAAG,kBAAkB,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YACrE,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,kBAAkB,EAAE,CAAC;YAEjE,OAAO,IAAI,CAAA;;;wCAGyB,KAAK;2CACF,SAAS;;;;;6CAKP,KAAK,CAAC,YAAY;;;;6CAIlB,KAAK,CAAC,IAAI;;;;;6CAKV,qBAAqB;;;KAG7D,CAAC;QACJ,CAAC,CAAC;IAtCgD,CAAC;IAEnD,MAAM,CAAC,MAAyB;QAC9B,OAAO,IAAI,CAAA;;;sCAGuB,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC;;;KAGlF,CAAC;IACJ,CAAC;CA6BF","sourcesContent":["import { repeat } from '../../../node_modules/lit-html/directives/repeat.js';\nimport { html, TemplateResult } from '../../../node_modules/lit-html/lit-html.js';\nimport { Block } from '../lib/blockchain-node.js';\nimport { Callback, formatTransactions, Renderable } from './common.js';\n\nexport class BlocksPanel implements Renderable<Readonly<Block[]>> {\n  constructor(readonly requestRendering: Callback) {}\n\n  render(blocks: Readonly<Block[]>): TemplateResult {\n    return html`\n      <h2>Current blocks</h2>\n      <div class=\"blocks\">\n        <div class=\"blocks__ribbon\">${repeat(blocks, b => b.hash, this.singleBlockCard)}</div>\n        <div class=\"blocks__overlay\"></div>\n      </div>\n    `;\n  }\n\n  private readonly singleBlockCard = (block: Block, index: number): TemplateResult => {\n    const formattedTransactions = formatTransactions(block.transactions);\n    const timestamp = new Date(block.timestamp).toLocaleTimeString();\n\n    return html`\n      <div class=\"block\">\n        <div class=\"block__header\">\n          <span class=\"block__index\">#${index}</span>\n          <span class=\"block__timestamp\">${timestamp}</span>\n        </div>\n        <div class=\"block__hashes\">\n          <div class=\"block__hash\">\n            <div class=\"block__label\">‚Üê PREV HASH</div>\n            <div class=\"block__hash-value\">${block.previousHash}</div>\n          </div>\n          <div class=\"block__hash\">\n            <div class=\"block__label\">THIS HASH</div>\n            <div class=\"block__hash-value\">${block.hash}</div>\n          </div>\n        </div>\n        <div>\n          <div class=\"block__label\">TRANSACTIONS</div>\n          <pre class=\"block__transactions\">${formattedTransactions}</pre>\n        </div>\n      </div>\n    `;\n  };\n}\n"]}